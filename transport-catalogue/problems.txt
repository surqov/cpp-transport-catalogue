It would be better to avoid using using namespace in the code, especially in a header file, as it can cause naming conflicts and make it harder to reason about the code. It is better to use the fully qualified names of the types and functions.

In the SplitIntoWords function, the symmetry variable is redundant since it is only used once in the subsequent if statement. It can be simplified by merging it with the condition in the if statement.

The ParseToQuery function should take the string_container parameter by const reference instead of by rvalue reference since it is not modified in the function.

In the ParseToQuery function, it is better to use const auto& for the range-based for loop iterator, as it does not modify the contents of the container.

It would be good to add error handling for cases where a bus or stop is not found in the stops_map, or when an invalid input is provided.

It would be better to use a more descriptive name for the reader class, such as InputReader, to avoid confusion with the reader namespace.

The num_of_lines variable in the reader constructor can be made const since it is not modified.

It would be better to use std::size_t instead of int for the loop variable in the for loop in the reader constructor to avoid sign conversion warnings.

The queries member in the reader class can be made const since it is not modified after initialization.